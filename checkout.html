<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get LinkedIn Automation Tool - Beta Access">
    <title>Checkout - LinkedIn Automation Tool</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>

    <!-- Simple i18n system -->

    <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "c7e2267943804acdb5bfcd009f02f537"}'></script><!-- End Cloudflare Web Analytics -->
</head>
<body data-page="checkout">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <img src="./images/junior-logo.png" alt="Junior Logo" class="logo-img">
            </div>
            <ul class="nav-links">
                <div class="nav-group">
                    <li><a href="index.html#features" data-i18n="navigation.features">Features</a></li>
                    <li><a href="index.html#how-it-works" data-i18n="navigation.howItWorks">How It Works</a></li>
                    <li><a href="index.html#pricing" data-i18n="navigation.pricing">Pricing</a></li>
                </div>
                <div class="nav-actions">
                    <li><a href="index.html" class="my-story-link" data-i18n="navigation.backToHome">‚Üê Back to Home</a></li>
                </div>
            </ul>
        </div>
    </nav>

    <!-- Checkout Section -->
    <section class="purchase-section">
        <div class="container">
            <div class="checkout-container">
                <!-- Product Summary -->
                <div class="product-summary">
                    <div class="product-header">
                        <h1 data-i18n="checkout.title">üöÄ LinkedIn Automation Tool</h1>
                        <div class="beta-badge" data-i18n="checkout.betaBadge">BETA ACCESS - LIMITED TIME</div>
                    </div>

                    <div class="product-image">
                        <img src="./images/linkedin-automation-preview.svg?v=1.1" alt="LinkedIn Automation Tool Preview" onerror="this.src='./images/junior-logo.png'; this.style.maxWidth='200px'; this.style.margin='20px auto';">
                    </div>

                    <div class="product-features">
                        <h3 data-i18n="checkout.whatYouGet">What's Included:</h3>
                        <ul>
                            <li>‚úÖ <span data-i18n="checkout.features.unlimited">LinkedIn Automation Tool (Windows & macOS)</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.aiComments">AI-Powered Comment Generation</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.targeting">Hiring Manager Targeting</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.analytics">Performance Analytics</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.support">Priority Email Support</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.updates">Early Access to New Features</span></li>
                        </ul>
                    </div>

                    <div class="pricing-summary">
                        <div class="price-display">
                            <span class="currency">$</span>
                            <span class="amount">20</span>
                            <span class="period" data-i18n="pricing.period">/month</span>
                        </div>
                        <p class="price-note" data-i18n="pricing.priceNote">Special beta pricing ‚Ä¢ Cancel anytime</p>
                    </div>
                </div>

                <!-- Checkout Form -->
                <div class="checkout-form">
                    <h2 data-i18n="checkout.totalPrice">Complete Your Order</h2>

                    <!-- Platform Selection -->
                    <div class="platform-selection">
                        <h3 data-i18n="checkout.platform">Select Your Platform:</h3>
                        <div class="platform-options">
                            <label class="platform-option" for="windows">
                                <input type="radio" id="windows" name="platform" value="windows" checked>
                                <div class="platform-info">
                                    <span class="platform-icon">üñ•Ô∏è</span>
                                    <div>
                                        <strong data-i18n="checkout.windows">Windows</strong>
                                        <small data-i18n="checkout.windowsVersion">Windows 10 or later</small>
                                    </div>
                                </div>
                            </label>

                            <label class="platform-option" for="macos">
                                <input type="radio" id="macos" name="platform" value="macos">
                                <div class="platform-info">
                                    <span class="platform-icon">üçé</span>
                                    <div>
                                        <strong data-i18n="checkout.mac">macOS</strong>
                                        <small data-i18n="checkout.macVersion">Intel & Apple Silicon (M1/M2)</small>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <small class="platform-note" data-i18n="checkout.platformNote">We'll automatically detect if you have an M1/M2 Mac and provide the correct version.</small>
                    </div>

                    <!-- Account/Login Section -->
                    <div class="account-login-section">
                        <div class="toggle-container">
                            <button id="show-create-account" class="toggle-button active" data-i18n="checkout.createAccountButton">Create Account</button>
                            <button id="show-login" class="toggle-button" data-i18n="checkout.loginButton">Login</button>
                        </div>

                        <!-- Create Account Form -->
                        <div id="create-account-form" class="form-section active">
                            <h3 data-i18n="checkout.accountDetails">Create Your Account</h3>
                            <div class="form-group">
                                <label for="customer-email" data-i18n="checkout.email">Email Address:</label>
                                <input type="email" id="customer-email" data-i18n="checkout.email" placeholder="your@email.com" required>
                            </div>
                            <div class="form-group">
                                <label for="customer-password" data-i18n="checkout.password">Password:</label>
                                <input type="password" id="customer-password" data-i18n="checkout.password" placeholder="Create a secure password" required minlength="8">
                                <small class="password-help" data-i18n="checkout.passwordHelp">Minimum 8 characters, must contain at least one uppercase letter</small>
                            </div>
                            <div class="form-group">
                                <label for="confirm-password" data-i18n="checkout.confirmPassword">Confirm Password:</label>
                                <input type="password" id="confirm-password" data-i18n="checkout.confirmPassword" placeholder="Confirm your password" required>
                            </div>
                        </div>

                        <!-- Login Form -->
                        <div id="login-form" class="form-section" style="display: none;">
                            <h3 data-i18n="checkout.loginDetails">Login to Your Account</h3>
                            <div class="form-group">
                                <label for="login-email" data-i18n="checkout.email">Email Address:</label>
                                <input type="email" id="login-email" data-i18n="checkout.email" placeholder="your@email.com" required>
                            </div>
                            <div class="form-group">
                                <label for="login-password" data-i18n="checkout.password">Password:</label>
                                <input type="password" id="login-password" data-i18n="checkout.password" placeholder="Your password" required>
                            </div>
                            <button type="button" id="login-button" class="login-action-button" data-i18n="checkout.loginButtonText" disabled>Login</button>
                            <div id="login-error" class="error-message" style="display: none; margin-top: 10px; color: #dc2626; text-align: center;"></div>
                        </div>

                        <!-- Subscriptions Display (initially hidden) -->
                        <div id="subscriptions-display" class="form-section" style="display: none;">
                            <h3 data-i18n="checkout.yourSubscriptions">Your Subscriptions</h3>
                            <div id="subscription-list">
                                <!-- Subscriptions will be loaded here by JavaScript -->
                                <p data-i18n="checkout.noActiveSubscriptions">No active subscriptions found.</p>
                            </div>
                            <div id="subscription-stats-container">
                                <!-- Stats will be loaded here by JavaScript -->
                            </div>
                            <button type="button" id="buy-new-subscription-button" class="login-action-button" data-i18n="checkout.buyNewSubscription" disabled>Buy New Subscription</button>
                        </div>
                    </div>



                    <!-- Integrated Payment Button -->
                    <div class="payment-section">
                        <h3 data-i18n="checkout.paymentInfo">Complete Your Purchase</h3>
                        <p style="text-align: center; margin-bottom: 20px;" data-i18n="checkout.oneStepText">Create your account and start your subscription in one step.</p>
                        <button type="button" id="create-account-button" disabled>
                            <span id="button-text" data-i18n="checkout.createAccount">Create Account & Subscribe - $20/month (Windows)</span>
                        </button>
                        <div id="checkout-error" class="error-message" style="display: none; margin-top: 10px; color: #dc2626; text-align: center;"></div>
                        <small style="text-align:center; display:block; margin-top:10px;" data-i18n="checkout.securePayment">Your account will be created and you'll be redirected to Stripe for secure payment.</small>
                    </div>

                    <!-- Security Info -->
                    <div class="security-info">
                        <div class="security-badges">
                            <div class="badge">
                                <span>üîí</span>
                                <small data-i18n="checkout.sslSecured">SSL Secured</small>
                            </div>
                            <div class="badge">
                                <span>üí≥</span>
                                <small data-i18n="checkout.stripeProtected">Stripe Protected</small>
                            </div>
                            <div class="badge">
                                <span>üõ°Ô∏è</span>
                                <small data-i18n="checkout.moneyBackGuarantee">Money Back Guarantee</small>
                            </div>
                        </div>
                        <p data-i18n="checkout.securityInfo">Your payment information is secure and encrypted. Cancel anytime.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Development Testing Section (remove in production) -->
    <div id="dev-testing" style="position: fixed; bottom: 10px; right: 10px; background: #f0f0f0; padding: 10px; border-radius: 5px; font-size: 12px; display: none;">
        <div>API Base URL: <span id="api-url-display"></span></div>
        <button onclick="window.testAccountCreation()" style="margin-top: 5px; font-size: 11px;" data-i18n="checkout.testAccount">Test Account Creation</button>
        <button onclick="window.showDebugInfo()" style="margin-top: 5px; font-size: 11px;" data-i18n="checkout.debugInfo">Debug Info</button>
    </div>

    <script>
        // Show dev panel if on localhost
        if (window.location.hostname === 'localhost') {
            document.getElementById('dev-testing').style.display = 'block';
            document.getElementById('api-url-display').textContent =
                window.location.hostname === 'localhost' ? 'http://localhost:8000' : 'https://api.heyjunior.ai';
        }

        // Test functions for development
        window.testAccountCreation = function() {
            const email = document.getElementById('customer-email');
            const password = document.getElementById('customer-password');
            const confirmPassword = document.getElementById('confirm-password');

            if (!email.value) email.value = 'test@example.com';
            if (!password.value) password.value = 'testpassword123';
            if (!confirmPassword.value) confirmPassword.value = 'testpassword123';

            console.log('Test data filled in checkout form');
        };

        window.showDebugInfo = function() {
            console.log('Checkout Debug Info:', {
                email: document.getElementById('customer-email').value,
                platform: document.querySelector('input[name="platform"]:checked')?.value,

                appliedCoupon: window.appliedCoupon || null,
                discountedPrice: window.discountedPrice || null
            });
        };
    </script>

    <!-- Simple i18n initialization script -->
    <script src="js/i18n-simple.js"></script>
    <script src="js/checkout.js?v=1.7"></script>
</body>
</html>
