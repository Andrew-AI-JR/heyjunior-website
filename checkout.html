<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get LinkedIn Automation Tool - Choose Your Plan">
    <title>Checkout - LinkedIn Automation Tool</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>

    <!-- Simple i18n system -->

    <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "c7e2267943804acdb5bfcd009f02f537"}'></script><!-- End Cloudflare Web Analytics -->
</head>
<body data-page="checkout">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <img src="./images/junior-logo.png" alt="Junior Logo" class="logo-img">
            </div>
            <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <div class="nav-group">
                    <li><a href="index.html#features" data-i18n="navigation.features">Features</a></li>
                    <li><a href="index.html#how-it-works" data-i18n="navigation.howItWorks">How It Works</a></li>
                    <li><a href="index.html#pricing" data-i18n="navigation.pricing">Pricing</a></li>
                </div>
                <div class="nav-actions">
                    <li><a href="index.html" class="my-story-link" data-i18n="navigation.backToHome">‚Üê Back to Home</a></li>
                </div>
            </ul>
        </div>
    </nav>

    <!-- Checkout Section -->
    <section class="purchase-section">
        <div class="container">
            <!-- Limited Time Offer Banner -->
            <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 12px; padding: 20px 30px; margin-bottom: 30px; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3); border: 2px solid #34d399;">
                <div style="text-align: center;">
                    <div style="display: inline-block; background: rgba(255, 255, 255, 0.25); padding: 4px 12px; border-radius: 20px; font-size: 0.85em; font-weight: 600; color: white; margin-bottom: 8px; letter-spacing: 0.5px;">
                        ‚≠ê LIMITED TIME OFFER
                    </div>
                    <h2 style="color: white; font-size: 1.8em; margin: 10px 0; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        Get Your First Month FREE!
                    </h2>
                    <p style="color: rgba(255, 255, 255, 0.95); font-size: 1.1em; margin: 12px 0 16px 0; line-height: 1.5;">
                        Start your job search journey risk-free. Use coupon code below at checkout.
                    </p>
                    <div style="background: white; display: inline-flex; align-items: center; padding: 12px 24px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.15); margin-top: 8px;">
                        <span style="color: #6b7280; font-size: 0.95em; margin-right: 12px; font-weight: 500;">Coupon Code:</span>
                        <code id="promo-code-display" style="background: #f3f4f6; color: #059669; padding: 8px 16px; border-radius: 6px; font-size: 1.2em; font-weight: 700; letter-spacing: 1px; font-family: 'Courier New', monospace; border: 2px dashed #10b981;">TEST</code>
                        <button onclick="copyPromoCode()" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 6px; margin-left: 12px; cursor: pointer; font-weight: 600; transition: all 0.2s; font-size: 0.9em;" onmouseover="this.style.background='#059669'" onmouseout="this.style.background='#10b981'">
                            üìã Copy
                        </button>
                    </div>
                    <p style="color: rgba(255, 255, 255, 0.85); font-size: 0.9em; margin-top: 12px; font-style: italic;">
                        üí° Apply the code in the payment section below
                    </p>
                </div>
            </div>

            <div class="checkout-container">
                <!-- Product Summary -->
                <div class="product-summary">
                    <div class="product-header">
                        <h1 data-i18n="checkout.title">üöÄ LinkedIn Automation Tool</h1>
                    </div>

                    <!-- Plan Selection -->
                    <div class="plan-selection" style="margin: 20px 0; padding: 15px; background: white; border-radius: 8px; border: 1px solid #d1e9ff;">
                        <h3 style="font-size: 1em; color: #1e40af; margin-bottom: 10px; text-align: center;">Select Your Plan:</h3>
                        <div style="display: flex; gap: 10px; flex-direction: column;">
                            <label class="plan-option" style="display: block; padding: 12px; border: 2px solid #10b981; border-radius: 6px; cursor: pointer; background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);">
                                <input type="radio" name="plan" value="standard" id="plan-standard" checked style="margin-right: 8px;">
                                <strong style="color: #059669;">Standard - $29.99/month ‚≠ê MOST POPULAR</strong>
                                <small style="display: block; color: #059669; margin-left: 24px;">50 AI comments per day - Perfect for most job seekers</small>
                            </label>
                            <label class="plan-option" style="display: block; padding: 12px; border: 2px solid #e2e8f0; border-radius: 6px; cursor: pointer; transition: all 0.3s;">
                                <input type="radio" name="plan" value="pro" id="plan-pro" style="margin-right: 8px;">
                                <strong>Pro - $49.99/month</strong>
                                <small style="display: block; color: #6b7280; margin-left: 24px;">80 AI comments per day + Priority Support</small>
                            </label>
                        </div>
                    </div>

                    <div class="product-image">
                        <img src="./images/linkedin-automation-preview.svg?v=1.1" alt="LinkedIn Automation Tool Preview" onerror="this.src='./images/junior-logo.png'; this.style.maxWidth='200px'; this.style.margin='20px auto';">
                    </div>

                    <div class="product-features">
                        <h3 data-i18n="checkout.whatYouGet">What's Included:</h3>
                        <ul>
                            <li>‚úÖ <span data-i18n="checkout.features.unlimited">LinkedIn Automation Tool (Windows & macOS)</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.aiComments">AI-Powered Comment Generation</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.targeting">Hiring Manager Targeting</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.analytics">Performance Analytics</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.support">Priority Email Support</span></li>
                            <li>‚úÖ <span data-i18n="checkout.features.updates">Early Access to New Features</span></li>
                        </ul>
                    </div>

                    <div class="testimonial-section">
                        <h3 style="text-align: center; margin-bottom: 15px; color: #1f2937;">‚ú® See It In Action</h3>
                        <div class="testimonial-image-container">
                            <img src="./images/testimonial.png" alt="Real AI-Generated Comments Example" style="width: 100%; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); border: 1px solid #e5e7eb;">
                        </div>
                        <p style="text-align: center; color: #6b7280; font-size: 0.9em; margin-top: 12px; font-style: italic;">Real examples of AI-generated comments from verified users</p>
                    </div>

                    <div class="pricing-summary">
                        <div class="price-display" style="position: relative;">
                            <div id="original-price" style="display: flex; align-items: center; justify-content: center;">
                                <span class="currency">$</span>
                                <span class="amount" id="price-amount">29.99</span>
                                <span class="period" data-i18n="pricing.period">/month</span>
                            </div>
                            <div id="free-price" style="display: none; font-size: 3em; font-weight: 700; color: #059669; margin: 10px 0;">
                                FREE
                                <div style="font-size: 0.3em; color: #6b7280; font-weight: 400; margin-top: 5px;">First Month</div>
                            </div>
                        </div>
                        <div id="savings-badge" style="display: none; background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 12px 20px; border-radius: 8px; margin: 15px 0; text-align: center; font-weight: 600; box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);">
                            üéâ You're saving $<span id="savings-amount">29.99</span> on your first month!
                        </div>
                        <p class="price-note" id="price-note" data-i18n="pricing.priceNote">Perfect for job seekers ‚Ä¢ Cancel anytime</p>
                    </div>
                </div>

                <!-- Checkout Form -->
                <div class="checkout-form">
                    <h2 data-i18n="checkout.totalPrice">Complete Your Order</h2>

                    <!-- Platform Selection -->
                    <div class="platform-selection">
                        <h3 data-i18n="checkout.platform">Select Your Platform:</h3>
                        <div class="platform-options">
                            <label class="platform-option" for="windows">
                                <input type="radio" id="windows" name="platform" value="windows" checked>
                                <div class="platform-info">
                                    <span class="platform-icon">üñ•Ô∏è</span>
                                    <div>
                                        <strong data-i18n="checkout.windows">Windows</strong>
                                        <small data-i18n="checkout.windowsVersion">Windows 10 or later</small>
                                    </div>
                                </div>
                            </label>

                            <label class="platform-option" for="macos">
                                <input type="radio" id="macos" name="platform" value="macos">
                                <div class="platform-info">
                                    <span class="platform-icon">üçé</span>
                                    <div>
                                        <strong data-i18n="checkout.mac">macOS</strong>
                                        <small data-i18n="checkout.macVersion">Intel & Apple Silicon (M1/M2)</small>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <small class="platform-note" data-i18n="checkout.platformNote">We'll automatically detect if you have an M1/M2 Mac and provide the correct version.</small>
                        <div id="mac-help-notice" style="display: none; margin-top: 12px; padding: 12px; background: #fef3c7; border-left: 4px solid #f59e0b; border-radius: 6px;">
                            <p style="margin: 0; font-size: 0.9em; color: #92400e;">
                                <strong>üçé Mac Users:</strong> macOS will show a security warning on first launch. 
                                <a href="mac-install-help.html" target="_blank" style="color: #b45309; font-weight: 600; text-decoration: underline;">Click here for install instructions</a>
                            </p>
                        </div>
                    </div>

                    <!-- Account Creation Section -->
                    <div class="account-creation-section">
                        <h3 data-i18n="checkout.accountDetails">Create Your Account</h3>
                        <p style="text-align: center; color: #6b7280; margin-bottom: 25px;">You'll use this to login to the desktop app and manage your subscription</p>
                        
                        <div class="form-group">
                            <label for="customer-email" data-i18n="checkout.email">Email Address:</label>
                            <input type="email" id="customer-email" placeholder="your@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="customer-password" data-i18n="checkout.password">Password:</label>
                            <input type="password" id="customer-password" placeholder="Create a secure password" required minlength="8">
                            <small class="password-help" data-i18n="checkout.passwordHelp">Minimum 8 characters, must contain at least one uppercase letter</small>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password" data-i18n="checkout.confirmPassword">Confirm Password:</label>
                            <input type="password" id="confirm-password" placeholder="Confirm your password" required>
                        </div>
                    </div>

                    <!-- Coupon Code Section -->
                    <div class="coupon-section" style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border: 2px solid #10b981; border-radius: 8px; padding: 20px; margin: 20px 0;">
                        <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
                            <span style="font-size: 1.5em; margin-right: 8px;">üéÅ</span>
                            <h3 style="margin: 0; color: #059669; font-size: 1.1em;">Have a Coupon Code?</h3>
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <div style="display: flex; gap: 10px; align-items: flex-start;">
                                <div style="flex: 1;">
                                    <input type="text" id="coupon-code" placeholder="Enter coupon code (e.g., test)" style="width: 100%; padding: 12px; border: 2px solid #10b981; border-radius: 6px; font-size: 1em; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">
                                    <small id="coupon-message" style="display: none; margin-top: 8px; font-weight: 600;"></small>
                                </div>
                                <button type="button" id="apply-coupon-btn" onclick="applyCouponCode()" style="background: #10b981; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600; white-space: nowrap; transition: all 0.2s; font-size: 1em;" onmouseover="this.style.background='#059669'" onmouseout="this.style.background='#10b981'">
                                    Apply Code
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Button -->
                    <!-- Stripe Link (One-Click Checkout) is enabled on the backend -->
                    <!-- Returning customers will see a one-click payment option -->
                    <div class="payment-section">
                        <h3 data-i18n="checkout.paymentInfo">Complete Your Purchase</h3>
                        <button type="button" id="create-account-button" disabled>
                            <span id="button-text" data-i18n="checkout.createAccount">Continue to Payment - $29.99/month</span>
                        </button>
                        <div id="checkout-error" class="error-message" style="display: none; margin-top: 10px; color: #dc2626; text-align: center;"></div>
                        <small style="text-align:center; display:block; margin-top:10px; color: #6b7280;">‚ö° One-click checkout with Stripe Link ‚Ä¢ After payment, you'll be redirected to download the app</small>
                    </div>

                    <!-- Security Info -->
                    <div class="security-info">
                        <div class="security-badges">
                            <div class="badge">
                                <span>üîí</span>
                                <small data-i18n="checkout.sslSecured">SSL Secured</small>
                            </div>
                            <div class="badge">
                                <span>üí≥</span>
                                <small data-i18n="checkout.stripeProtected">Stripe Protected</small>
                            </div>
                            <div class="badge">
                                <span>üõ°Ô∏è</span>
                                <small data-i18n="checkout.moneyBackGuarantee">Money Back Guarantee</small>
                            </div>
                        </div>
                        <p data-i18n="checkout.securityInfo">Your payment information is secure and encrypted. Cancel anytime.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Development Testing Section (remove in production) -->
    <div id="dev-testing" style="position: fixed; bottom: 10px; right: 10px; background: #f0f0f0; padding: 10px; border-radius: 5px; font-size: 12px; display: none;">
        <div>API Base URL: <span id="api-url-display"></span></div>
        <button onclick="window.testAccountCreation()" style="margin-top: 5px; font-size: 11px;" data-i18n="checkout.testAccount">Test Account Creation</button>
        <button onclick="window.showDebugInfo()" style="margin-top: 5px; font-size: 11px;" data-i18n="checkout.debugInfo">Debug Info</button>
    </div>

    <script>
        // Show dev panel if on localhost
        if (window.location.hostname === 'localhost') {
            document.getElementById('dev-testing').style.display = 'block';
            document.getElementById('api-url-display').textContent =
                window.location.hostname === 'localhost' ? 'http://localhost:8000' : 'https://api.heyjunior.ai';
        }

        // Test functions for development
        window.testAccountCreation = function() {
            const email = document.getElementById('customer-email');
            const password = document.getElementById('customer-password');
            const confirmPassword = document.getElementById('confirm-password');

            if (!email.value) email.value = 'test@example.com';
            if (!password.value) password.value = 'testpassword123';
            if (!confirmPassword.value) confirmPassword.value = 'testpassword123';

            console.log('Test data filled in checkout form');
        };

        window.showDebugInfo = function() {
            console.log('Checkout Debug Info:', {
                email: document.getElementById('customer-email').value,
                platform: document.querySelector('input[name="platform"]:checked')?.value,

                appliedCoupon: window.appliedCoupon || null,
                discountedPrice: window.discountedPrice || null
            });
        };
    </script>

    <!-- Simple i18n initialization script -->
    <script src="js/i18n-simple.js"></script>
    
    <!-- Referral tracking system -->
    <script src="js/referral.js"></script>
    
    <script src="js/checkout.js?v=1.7"></script>
    
    <!-- Mobile Navigation Toggle -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            if (mobileToggle) {
                mobileToggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    navLinks.classList.toggle('active');
                });

                // Close menu when clicking on a link
                const links = navLinks.querySelectorAll('a');
                links.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileToggle.classList.remove('active');
                        navLinks.classList.remove('active');
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                    const isClickInsideNav = navLinks.contains(event.target);
                    const isClickOnToggle = mobileToggle.contains(event.target);
                    
                    if (!isClickInsideNav && !isClickOnToggle && navLinks.classList.contains('active')) {
                        mobileToggle.classList.remove('active');
                        navLinks.classList.remove('active');
                    }
                });
            }

            // Plan selection pricing update
            const planRadios = document.querySelectorAll('input[name="plan"]');
            const priceAmount = document.getElementById('price-amount');
            const priceNote = document.getElementById('price-note');
            const buttonText = document.getElementById('button-text');

            function updatePricing() {
                const selectedPlan = document.querySelector('input[name="plan"]:checked');
                const appliedCoupon = sessionStorage.getItem('appliedCoupon');
                
                if (selectedPlan) {
                    const price = selectedPlan.value === 'standard' ? '29.99' : '49.99';
                    const note = selectedPlan.value === 'standard' ? 
                        'Perfect for job seekers ‚Ä¢ Cancel anytime' : 
                        'Maximum visibility ‚Ä¢ Cancel anytime';
                    
                    priceAmount.textContent = price;
                    
                    // If coupon is applied, update with coupon pricing
                    if (appliedCoupon) {
                        updatePricingWithCoupon();
                    } else {
                        // Reset to normal pricing display
                        const originalPrice = document.getElementById('original-price');
                        const freePrice = document.getElementById('free-price');
                        const savingsBadge = document.getElementById('savings-badge');
                        
                        if (originalPrice) {
                            originalPrice.style.textDecoration = 'none';
                            originalPrice.style.opacity = '1';
                            originalPrice.style.fontSize = '';
                        }
                        if (freePrice) {
                            freePrice.style.display = 'none';
                        }
                        if (savingsBadge) {
                            savingsBadge.style.display = 'none';
                        }
                        
                        priceNote.textContent = note;
                        priceNote.style.color = '';
                        
                        if (buttonText) {
                            const platform = document.querySelector('input[name="platform"]:checked')?.value;
                            const platformName = platform === 'macos' ? 'macOS' : (platform === 'linux' ? 'Linux' : 'Windows');
                            buttonText.textContent = `Continue to Payment - $${price}/month (${platformName})`;
                        }
                    }
                }
            }

            // Update pricing on plan change
            planRadios.forEach(radio => {
                radio.addEventListener('change', updatePricing);
            });

            // Show/hide Mac help notice based on platform selection
            const platformRadios = document.querySelectorAll('input[name="platform"]');
            const macHelpNotice = document.getElementById('mac-help-notice');
            
            function updateMacHelpVisibility() {
                const selectedPlatform = document.querySelector('input[name="platform"]:checked')?.value;
                if (macHelpNotice) {
                    macHelpNotice.style.display = selectedPlatform === 'macos' ? 'block' : 'none';
                }
            }
            
            platformRadios.forEach(radio => {
                radio.addEventListener('change', updateMacHelpVisibility);
            });
            
            // Initial check
            updateMacHelpVisibility();

            // Check URL params for pre-selected plan
            const urlParams = new URLSearchParams(window.location.search);
            const planParam = urlParams.get('plan');
            if (planParam && (planParam === 'standard' || planParam === 'pro')) {
                const planRadio = document.getElementById('plan-' + planParam);
                if (planRadio) {
                    planRadio.checked = true;
                    updatePricing();
                }
            }

            // Initial update
            updatePricing();
        });

        // Coupon Code Functionality
        window.copyPromoCode = function() {
            const promoCode = 'TEST';
            const couponInput = document.getElementById('coupon-code');
            
            // Copy to clipboard
            navigator.clipboard.writeText(promoCode).then(() => {
                // Update the coupon input field
                if (couponInput) {
                    couponInput.value = promoCode;
                }
                
                // Show success feedback
                const copyBtn = event.target;
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '‚úì Copied!';
                copyBtn.style.background = '#059669';
                
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                    copyBtn.style.background = '#10b981';
                }, 2000);
                
                // Scroll to coupon section
                document.querySelector('.coupon-section')?.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }).catch(err => {
                console.error('Failed to copy:', err);
                // Fallback: just fill the input
                if (couponInput) {
                    couponInput.value = promoCode;
                    couponInput.focus();
                }
            });
        };

        window.applyCouponCode = function() {
            const couponInput = document.getElementById('coupon-code');
            const couponMessage = document.getElementById('coupon-message');
            const applyBtn = document.getElementById('apply-coupon-btn');
            const couponCode = couponInput.value.trim().toUpperCase();
            
            if (!couponCode) {
                showCouponMessage('Please enter a coupon code', 'error');
                return;
            }
            
            // Case-insensitive validation - accepts 'test', 'TEST', 'Test', etc.
            if (couponCode === 'TEST') {
                // Update input to show uppercase version
                couponInput.value = couponCode;
                
                showCouponMessage('‚úì Coupon "' + couponCode + '" applied! First month FREE!', 'success');
                applyBtn.innerHTML = '‚úì Applied';
                applyBtn.style.background = '#059669';
                applyBtn.disabled = true;
                
                // Store coupon for checkout (uppercase for Stripe)
                sessionStorage.setItem('appliedCoupon', couponCode);
                
                // Update pricing display to show discount
                updatePricingWithCoupon();
            } else {
                showCouponMessage('Invalid coupon code. Please check and try again.', 'error');
            }
        };

        function showCouponMessage(message, type) {
            const couponMessage = document.getElementById('coupon-message');
            couponMessage.textContent = message;
            couponMessage.style.display = 'block';
            couponMessage.style.color = type === 'success' ? '#059669' : '#dc2626';
        }

        function updatePricingWithCoupon() {
            const priceNote = document.getElementById('price-note');
            const savingsBadge = document.getElementById('savings-badge');
            const savingsAmount = document.getElementById('savings-amount');
            const originalPrice = document.getElementById('original-price');
            const freePrice = document.getElementById('free-price');
            const buttonText = document.getElementById('button-text');
            const selectedPlan = document.querySelector('input[name="plan"]:checked')?.value || 'standard';
            const price = selectedPlan === 'standard' ? '29.99' : '49.99';
            const platform = document.querySelector('input[name="platform"]:checked')?.value;
            const platformName = platform === 'macos' ? 'macOS' : (platform === 'linux' ? 'Linux' : 'Windows');
            
            // Hide original price and show FREE
            if (originalPrice) {
                originalPrice.style.textDecoration = 'line-through';
                originalPrice.style.opacity = '0.4';
                originalPrice.style.fontSize = '0.8em';
            }
            if (freePrice) {
                freePrice.style.display = 'block';
            }
            
            // Update price note with clear messaging
            if (priceNote) {
                priceNote.innerHTML = '<span style="font-size: 0.95em; color: #6b7280;">Then $' + price + '/month ‚Ä¢ Cancel anytime before renewal</span>';
            }
            
            // Show savings badge
            if (savingsBadge && savingsAmount) {
                savingsAmount.textContent = price;
                savingsBadge.style.display = 'block';
            }
            
            // Update button text to be clear about the free trial
            if (buttonText) {
                buttonText.textContent = `Start Your FREE Month (${platformName})`;
            }
        }

        // Allow Enter key to apply coupon
        const couponCodeInput = document.getElementById('coupon-code');
        if (couponCodeInput) {
            // Auto-uppercase as user types
            couponCodeInput.addEventListener('input', function(e) {
                // The CSS text-transform: uppercase handles the display
                // This just ensures the value is uppercase too
                this.value = this.value.toUpperCase();
            });
            
            // Allow Enter key to apply coupon
            couponCodeInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    applyCouponCode();
                }
            });
        }
    </script>
</body>
</html>
